(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[761],{3821:e=>{e.exports={modalOverlay:"PlayerMinutesModal_modalOverlay__b8ry5",modalContent:"PlayerMinutesModal_modalContent__FQeZl",modalTitle:"PlayerMinutesModal_modalTitle__TOPlo",modalSubtitle:"PlayerMinutesModal_modalSubtitle__c_nLS",tableHeader:"PlayerMinutesModal_tableHeader__dclda",headerCell:"PlayerMinutesModal_headerCell__Jpu41",playersList:"PlayerMinutesModal_playersList__pEMOB",playerRow:"PlayerMinutesModal_playerRow__JZZ6i",playerName:"PlayerMinutesModal_playerName__IYLLc",playerNumber:"PlayerMinutesModal_playerNumber__rpcf8",timeInput:"PlayerMinutesModal_timeInput__riwZE",numberInput:"PlayerMinutesModal_numberInput__gRJ_9",playTime:"PlayerMinutesModal_playTime__hlWIF",noPlayers:"PlayerMinutesModal_noPlayers__iHIMZ",buttonGroup:"PlayerMinutesModal_buttonGroup__oXLdD",saveButton:"PlayerMinutesModal_saveButton__ZgbvN",cancelButton:"PlayerMinutesModal_cancelButton__gW4EI"}},4761:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>d});var t=l(5155),n=l(2115),s=l(3821),r=l.n(s),i=l(9671);let d=e=>{let{isOpen:a,onClose:l,onSave:s,match:d,players:u,currentPlayerMinutes:m=[]}=e,[c,o]=(0,n.useState)([]),p=(0,n.useRef)([]),_=e=>{let a=Object.values(i.T).find(a=>a.id===e);return a?a.name:e};(0,n.useEffect)(()=>{if(!a){o([]);return}if(0===p.current.length){let e=u.filter(e=>e.teams&&e.teams.includes(d.team));p.current=m.length>0?m:e.map(e=>({playerId:e.id,startMinute:0,endMinute:130}))}o(p.current)},[a]),(0,n.useEffect)(()=>{a||(p.current=[])},[a]);let y=(e,a,l)=>{let t=Math.max(0,Math.min(130,l));o(l=>l.map(l=>l.playerId===e?{...l,[a]:t}:l))},M=(e,a)=>Math.max(0,a-e);if(!a)return null;let h=u.filter(e=>e.teams&&e.teams.includes(d.team));return(0,t.jsx)("div",{className:r().modalOverlay,children:(0,t.jsxs)("div",{className:r().modalContent,children:[(0,t.jsxs)("h2",{className:r().modalTitle,children:["Minuty zawodnik\xf3w: ",_(d.team)," vs ",d.opponent]}),(0,t.jsx)("p",{className:r().modalSubtitle,children:"Wpisz przedziały minut, w kt\xf3rych zawodnicy grali w meczu."}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(c.filter(e=>e.startMinute>=0&&e.endMinute>=e.startMinute&&e.endMinute<=130)),l()},children:[(0,t.jsxs)("div",{className:r().tableHeader,children:[(0,t.jsx)("div",{className:r().headerCell,children:"Zawodnik"}),(0,t.jsx)("div",{className:r().headerCell,children:"Od (min)"}),(0,t.jsx)("div",{className:r().headerCell,children:"Do (min)"}),(0,t.jsx)("div",{className:r().headerCell,children:"Czas gry"})]}),(0,t.jsxs)("div",{className:r().playersList,children:[h.map(e=>{let a=c.find(a=>a.playerId===e.id)||{playerId:e.id,startMinute:0,endMinute:130},l=M(a.startMinute,a.endMinute);return(0,t.jsxs)("div",{className:r().playerRow,children:[(0,t.jsxs)("div",{className:r().playerName,children:[(0,t.jsx)("span",{className:r().playerNumber,children:e.number}),e.name]}),(0,t.jsx)("div",{className:r().timeInput,children:(0,t.jsx)("input",{type:"number",min:"0",max:"130",value:a.startMinute,onChange:a=>y(e.id,"startMinute",parseInt(a.target.value)||0),className:r().numberInput})}),(0,t.jsx)("div",{className:r().timeInput,children:(0,t.jsx)("input",{type:"number",min:"0",max:"130",value:a.endMinute,onChange:a=>y(e.id,"endMinute",parseInt(a.target.value)||0),className:r().numberInput})}),(0,t.jsxs)("div",{className:r().playTime,children:[l," min"]})]},e.id)}),0===h.length&&(0,t.jsxs)("div",{className:r().noPlayers,children:["Brak zawodnik\xf3w przypisanych do zespołu ",_(d.team)]})]}),(0,t.jsxs)("div",{className:r().buttonGroup,children:[(0,t.jsx)("button",{type:"button",className:r().cancelButton,onClick:l,children:"Anuluj"}),(0,t.jsx)("button",{type:"submit",className:r().saveButton,children:"Zapisz"})]})]})]})})}}}]);