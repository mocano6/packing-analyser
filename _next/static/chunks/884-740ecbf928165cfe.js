"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[884],{255:(e,o,n)=>{function t(e){let{moduleIds:o}=e;return null}Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"PreloadChunks",{enumerable:!0,get:function(){return t}}),n(5155),n(7650),n(5744),n(589)},2146:(e,o,n)=>{function t(e){let{reason:o,children:n}=e;return n}Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"BailoutToCSR",{enumerable:!0,get:function(){return t}}),n(5262)},4054:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),!function(e,o){for(var n in o)Object.defineProperty(e,n,{enumerable:!0,get:o[n]})}(o,{bindSnapshot:function(){return i},createAsyncLocalStorage:function(){return a},createSnapshot:function(){return s}});let n=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class t{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let r="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function a(){return r?new r:new t}function i(e){return r?r.bind(e):t.bind(e)}function s(){return r?r.snapshot():function(e,...o){return e(...o)}}},5028:(e,o,n)=>{n.d(o,{default:()=>r.a});var t=n(6645),r=n.n(t)},5744:(e,o,n)=>{Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"workAsyncStorage",{enumerable:!0,get:function(){return t.workAsyncStorageInstance}});let t=n(7828)},6104:(e,o,n)=>{n.d(o,{db:()=>c});var t=n(3915),r=n(5317),a=n(6203),i=n(858);let s=(0,t.Dk)().length>0?(0,t.Sx)():(0,t.Wp)({apiKey:"AIzaSyB6O68_OME3BE3kDEBTNbTcGCKDUrghuJ0",authDomain:"rakow-academy.firebaseapp.com",projectId:"rakow-academy",storageBucket:"rakow-academy.firebasestorage.app",messagingSenderId:"13314435269",appId:"1:13314435269:web:652465d1c608868dca28ac"}),c=(0,r.aU)(s),l=async()=>{try{await (0,r.Q5)(c),console.log("Persistencja dla wielu zakładek włączona pomyślnie")}catch(e){"failed-precondition"===e.code?console.warn("Persistencja offline nie może być włączona - aplikacja jest otwarta w wielu kartach."):"unimplemented"===e.code?console.warn("Persistencja offline nie jest dostępna w tej przeglądarce."):console.error("Błąd przy włączaniu persistencji offline:",e)}};setTimeout(()=>{l()},1e3),(0,a.xI)(s),(0,i.c7)(s)},6645:(e,o,n)=>{Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"default",{enumerable:!0,get:function(){return r}});let t=n(8229)._(n(7357));function r(e,o){var n;let r={};"function"==typeof e&&(r.loader=e);let a={...r,...o};return(0,t.default)({...a,modules:null==(n=a.loadableGenerated)?void 0:n.modules})}("function"==typeof o.default||"object"==typeof o.default&&null!==o.default)&&void 0===o.default.__esModule&&(Object.defineProperty(o.default,"__esModule",{value:!0}),Object.assign(o.default,o),e.exports=o.default)},7357:(e,o,n)=>{Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"default",{enumerable:!0,get:function(){return c}});let t=n(5155),r=n(2115),a=n(2146);function i(e){return{default:e&&"default"in e?e.default:e}}n(255);let s={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let o={...s,...e},n=(0,r.lazy)(()=>o.loader().then(i)),c=o.loading;function l(e){let i=c?(0,t.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,s=!o.ssr||!!o.loading,l=s?r.Suspense:r.Fragment,d=o.ssr?(0,t.jsxs)(t.Fragment,{children:[null,(0,t.jsx)(n,{...e})]}):(0,t.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,t.jsx)(n,{...e})});return(0,t.jsx)(l,{...s?{fallback:i}:{},children:d})}return l.displayName="LoadableComponent",l}},7828:(e,o,n)=>{Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"workAsyncStorageInstance",{enumerable:!0,get:function(){return t}});let t=(0,n(4054).createAsyncLocalStorage)()},9046:(e,o,n)=>{n.d(o,{Ap:()=>s,IS:()=>a,XV:()=>r});var t=n(5317);let r=async e=>{console.log("Rozpoczynam reset połączenia z Firestore...");try{await (0,t.LA)(e),console.log("Sieć Firestore wyłączona"),await new Promise(e=>setTimeout(e,1e3));try{await (0,t.me)(e),console.log("Cache IndexedDB wyczyszczone")}catch(e){console.warn("Nie udało się wyczyścić IndexedDB. To normalne, jeśli są aktywne połączenia:",e)}await (0,t.Os)(e),console.log("Sieć Firestore ponownie włączona");return}catch(e){throw console.error("Błąd podczas resetowania połączenia Firestore:",e),e}},a=async(e,o)=>{if(e&&"string"==typeof e.message&&e.message.includes("INTERNAL ASSERTION FAILED"))return console.warn("⚠️ Wykryto błąd wewnętrznego stanu Firestore - pr\xf3ba naprawy..."),await r(o),console.log("✅ Połączenie Firestore zostało zresetowane, zalecane jest odświeżenie strony"),window.confirm("Wykryto poważny problem z połączeniem do bazy danych, kt\xf3ry został naprawiony. Strona musi zostać odświeżona, aby zmiany zostały zastosowane. Odświeżyć teraz?")&&window.location.reload(),!0;if(e&&e.code)switch(e.code){case"unavailable":console.warn("⚠️ Serwer Firestore jest niedostępny - przełączanie w tryb offline");try{return await (0,t.LA)(o),console.log("✅ Przełączono w tryb offline"),!0}catch(e){console.error("❌ Błąd podczas przełączania w tryb offline:",e);break}case"permission-denied":console.error("❌ Brak uprawnień do wykonania operacji w Firestore");break;default:console.error("❌ Błąd Firestore (".concat(e.code,"):"),e.message)}return!1},i=e=>{if("undefined"==typeof document||document.getElementById("firestore-reset-button"))return;let o=document.createElement("button");o.id="firestore-reset-button",o.innerText="Resetuj połączenie Firestore",o.style.position="fixed",o.style.bottom="20px",o.style.right="20px",o.style.zIndex="9999",o.style.backgroundColor="#ff5252",o.style.color="white",o.style.padding="10px 15px",o.style.border="none",o.style.borderRadius="4px",o.style.cursor="pointer",o.style.boxShadow="0 2px 5px rgba(0, 0, 0, 0.2)",o.onclick=async()=>{o.disabled=!0,o.innerText="Resetowanie...",await r(e),o.innerText="Reset zakończony, odśwież stronę",o.style.backgroundColor="#4caf50",o.onclick=()=>window.location.reload()},document.body.appendChild(o)},s=e=>{window.addEventListener("error",o=>{o.error&&"string"==typeof o.error.message&&o.error.message.includes("INTERNAL ASSERTION FAILED")&&o.error.stack&&o.error.stack.includes("firestore")&&(console.warn("\uD83D\uDEA8 Przechwycono błąd wewnętrznego stanu Firestore"),a(o.error,e).then(o=>{o?console.log("✅ Błąd został obsłużony"):(console.error("❌ Nie udało się obsłużyć błędu"),i(e))}))});let o=()=>{if("undefined"==typeof document)return;let o=document.createElement("div");o.id="firestore-reset-container",o.style.position="fixed",o.style.bottom="10px",o.style.right="10px",o.style.zIndex="9999";let n=document.createElement("button");n.id="firestore-mini-reset-button",n.innerText="\uD83D\uDD04 DB",n.title="Napotkano problemy z bazą danych? Kliknij, aby zresetować połączenie",n.style.backgroundColor="rgba(0, 0, 0, 0.5)",n.style.color="white",n.style.padding="5px 10px",n.style.border="none",n.style.borderRadius="4px",n.style.cursor="pointer",n.style.fontSize="12px",n.style.opacity="0.7",n.onmouseover=()=>{n.style.opacity="1"},n.onmouseout=()=>{n.style.opacity="0.7"},n.onclick=async()=>{window.confirm("Czy na pewno chcesz zresetować połączenie z bazą danych? To może pom\xf3c w razie problem\xf3w z synchronizacją.")&&(n.disabled=!0,n.innerText="\uD83D\uDD04 Resetowanie...",await r(e),n.innerText="✅ Gotowe",setTimeout(()=>{window.confirm("Reset zakończony pomyślnie. Zalecane jest odświeżenie strony. Odświeżyć teraz?")?window.location.reload():(n.innerText="\uD83D\uDD04 DB",n.disabled=!1)},1e3))},o.appendChild(n),document.body.appendChild(o)};"complete"===document.readyState||"interactive"===document.readyState?setTimeout(o,2e3):window.addEventListener("DOMContentLoaded",()=>{setTimeout(o,2e3)}),window.addEventListener("online",()=>{console.log("\uD83C\uDF10 Przywr\xf3cono połączenie z siecią"),(0,t.Os)(e).catch(o=>{console.error("❌ Błąd podczas włączania sieci dla Firestore:",o),a(o,e)})}),window.addEventListener("offline",()=>{console.log("\uD83D\uDD0C Utracono połączenie z siecią"),(0,t.LA)(e).catch(e=>{console.error("❌ Błąd podczas wyłączania sieci dla Firestore:",e)})})}}}]);