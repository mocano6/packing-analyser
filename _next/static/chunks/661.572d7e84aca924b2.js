(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[661],{661:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var n=t(5155),c=t(2115),o=t(9671),l=t(5465),s=t(4001),d=t.n(s);let i=e=>{let{matchInfo:a,onChangeMatch:t,allMatches:s,onSelectMatch:i,onDeleteMatch:r,selectedTeam:m,onChangeTeam:h,onManagePlayerMinutes:_,onAddNewMatch:u,refreshCounter:p=0,isOfflineMode:f=!1}=e,[w,I]=(0,c.useState)("date"),[j,z]=(0,c.useState)("desc"),[v,C]=(0,c.useState)(null);(0,c.useEffect)(()=>{console.log("\uD83D\uDD04 MatchInfoHeader - refreshCounter zmieniony na:",p),console.log("\uD83D\uDCCB MatchInfoHeader - allMatches:",s.length,"element\xf3w"),console.log("\uD83D\uDC65 MatchInfoHeader - selectedTeam:",m)},[s,m,p]);let g=e=>{let a=Object.values(o.T).find(a=>a.id===e);return a?a.name:e},M=c.useMemo(()=>{console.log("\uD83D\uDD0D Filtruję mecze dla zespołu ".concat(m,", dostępnych mecz\xf3w: ").concat(s.length)),console.log("\uD83D\uDD22 Aktualna wartość refreshCounter:",p),console.log("\uD83E\uDDFE Szczeg\xf3ły mecz\xf3w:",s.map(e=>"".concat(e.matchId,": ").concat(e.team," vs ").concat(e.opponent)));let e=s.filter(e=>e.team===m);return console.log("\uD83D\uDCCA Po filtrowaniu: ".concat(e.length," mecz\xf3w dla zespołu ").concat(m)),e.sort((e,a)=>{let t=e[w],n=a[w];if(void 0!==t&&void 0!==n){if(t<n)return"asc"===j?-1:1;if(t>n)return"asc"===j?1:-1}return 0})},[s,m,w,j,p]);(0,c.useEffect)(()=>{console.log("\uD83D\uDCCA MatchInfoHeader - teamMatches po filtrowaniu:",M.length,"element\xf3w")},[M]);let b=(e,a)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i(a),t())},x=(e,a)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),window.confirm("Czy na pewno chcesz usunąć ten mecz?")&&r(a))},H=e=>{w===e?z("asc"===j?"desc":"asc"):(I(e),z("asc"))};return(0,n.jsxs)("div",{className:d().matchInfoContainer,children:[(0,n.jsxs)("div",{className:d().headerControls,children:[(0,n.jsx)("div",{className:d().teamSelector,children:(0,n.jsx)(l.A,{selectedTeam:m,onChange:h,className:d().teamDropdown})}),(0,n.jsxs)("div",{className:d().controlsContainer,children:[f&&(0,n.jsx)("div",{className:d().offlineBadge||"offlineBadge",children:"Tryb offline \uD83D\uDCF4"}),(0,n.jsx)("button",{className:d().addButton,onClick:()=>{u()},children:"+ Dodaj mecz"})]})]}),(0,n.jsxs)("div",{className:d().matchesTable,children:[(0,n.jsxs)("div",{className:d().tableHeader,children:[(0,n.jsxs)("div",{className:d().headerCell,onClick:()=>H("date"),children:["Data ","date"===w&&("asc"===j?"↑":"↓")]}),(0,n.jsxs)("div",{className:d().headerCell,onClick:()=>H("team"),children:["Zesp\xf3ł ","team"===w&&("asc"===j?"↑":"↓")]}),(0,n.jsxs)("div",{className:d().headerCell,onClick:()=>H("opponent"),children:["Przeciwnik ","opponent"===w&&("asc"===j?"↑":"↓")]}),(0,n.jsxs)("div",{className:d().headerCell,onClick:()=>H("competition"),children:["Rozgrywki ","competition"===w&&("asc"===j?"↑":"↓")]}),(0,n.jsxs)("div",{className:d().headerCell,onClick:()=>H("isHome"),children:["Lokalizacja ","isHome"===w&&("asc"===j?"↑":"↓")]}),(0,n.jsx)("div",{className:d().headerCell,children:"Akcje"})]}),(0,n.jsx)("div",{className:d().tableBody,children:M.length>0?M.map(e=>{let c=(null==a?void 0:a.matchId)===e.matchId,o=!0===e.isHome,l=v===e.matchId;return(0,n.jsxs)("div",{className:"".concat(d().matchRow," ").concat(c?d().selected:""," ").concat(o?d().homeRow:d().awayRow," ").concat(l?d().deleteInProgress:""),onClick:()=>i(e),children:[(0,n.jsx)("div",{className:d().cell,children:e.date}),(0,n.jsx)("div",{className:d().cell,children:g(e.team)}),(0,n.jsx)("div",{className:d().cell,children:e.opponent}),(0,n.jsx)("div",{className:d().cell,children:(0,n.jsx)("span",{className:d().competition,children:e.competition})}),(0,n.jsx)("div",{className:d().cell,children:(0,n.jsx)("span",{className:o?d().home:d().away,children:o?"Dom":"Wyjazd"})}),(0,n.jsxs)("div",{className:d().cellActions,children:[c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:d().editBtn,onClick:a=>{a.stopPropagation(),i(e),t()},onKeyDown:a=>b(a,e),title:"Edytuj","aria-label":"Edytuj mecz: ".concat(g(e.team)," vs ").concat(e.opponent),disabled:l,children:"✎"}),(0,n.jsx)("button",{className:"".concat(d().editBtn," ").concat(d().minutesBtn),onClick:a=>{a.stopPropagation(),_(e)},title:"Minuty zawodnik\xf3w","aria-label":"Zarządzaj minutami zawodnik\xf3w w meczu: ".concat(g(e.team)," vs ").concat(e.opponent),disabled:l,children:"⌚"}),(0,n.jsx)("button",{className:d().deleteBtn,onClick:a=>{a.stopPropagation(),e.matchId&&!l&&window.confirm("Czy na pewno chcesz usunąć ten mecz?")&&(C(e.matchId),r(e.matchId),console.log("Usuwanie i odświeżanie obsługiwane przez hook useMatchInfo"))},onKeyDown:a=>e.matchId&&!l?x(a,e.matchId):void 0,title:"Usuń","aria-label":"Usuń mecz: ".concat(g(e.team)," vs ").concat(e.opponent),disabled:l,children:l?"⌛":"✕"})]}),!c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:d().editBtn,onClick:a=>{a.stopPropagation(),i(e),t()},onKeyDown:a=>b(a,e),title:"Edytuj","aria-label":"Edytuj mecz: ".concat(g(e.team)," vs ").concat(e.opponent),disabled:l,children:"✎"}),(0,n.jsx)("button",{className:"".concat(d().editBtn," ").concat(d().minutesBtn),onClick:a=>{a.stopPropagation(),_(e)},title:"Minuty zawodnik\xf3w","aria-label":"Zarządzaj minutami zawodnik\xf3w w meczu: ".concat(g(e.team)," vs ").concat(e.opponent),disabled:l,children:"⌚"}),(0,n.jsx)("button",{className:d().deleteBtn,onClick:a=>{a.stopPropagation(),e.matchId&&!l&&window.confirm("Czy na pewno chcesz usunąć ten mecz?")&&(C(e.matchId),r(e.matchId),console.log("Usuwanie i odświeżanie obsługiwane przez hook useMatchInfo"))},onKeyDown:a=>e.matchId&&!l?x(a,e.matchId):void 0,title:"Usuń","aria-label":"Usuń mecz: ".concat(g(e.team)," vs ").concat(e.opponent),disabled:l,children:l?"⌛":"✕"})]})]})]},e.matchId)}):(0,n.jsx)("div",{className:d().noMatches,children:"Brak zapisanych mecz\xf3w dla tego zespołu"})})]})]})}},4001:e=>{e.exports={matchInfoContainer:"MatchInfoHeader_matchInfoContainer__ikW30",headerControls:"MatchInfoHeader_headerControls__dCoAR",teamSelector:"MatchInfoHeader_teamSelector__HG8Zx",teamDropdown:"MatchInfoHeader_teamDropdown__Z_lEg",addButton:"MatchInfoHeader_addButton__YcFb5",matchesTable:"MatchInfoHeader_matchesTable__1y9r5",tableHeader:"MatchInfoHeader_tableHeader__mphFQ",headerCell:"MatchInfoHeader_headerCell__ISkNs",tableBody:"MatchInfoHeader_tableBody__JApcK",matchRow:"MatchInfoHeader_matchRow__EJAbm",homeRow:"MatchInfoHeader_homeRow__KAGuY",awayRow:"MatchInfoHeader_awayRow__3ecNO",selected:"MatchInfoHeader_selected__u6WAV",cell:"MatchInfoHeader_cell__cPv7Y",competition:"MatchInfoHeader_competition__IalbK",home:"MatchInfoHeader_home__meKob",away:"MatchInfoHeader_away__Ttfll",cellActions:"MatchInfoHeader_cellActions__6_yjE",editBtn:"MatchInfoHeader_editBtn__iZWNF",deleteBtn:"MatchInfoHeader_deleteBtn__qpfXV",noMatches:"MatchInfoHeader_noMatches__a_he0",editSelectedBtn:"MatchInfoHeader_editSelectedBtn__uYeYL",minutesBtn:"MatchInfoHeader_minutesBtn__dcRKM",deleteInProgress:"MatchInfoHeader_deleteInProgress__6Cg9a",controlsContainer:"MatchInfoHeader_controlsContainer__GoNUz",offlineBadge:"MatchInfoHeader_offlineBadge__3Mc_i",pulse:"MatchInfoHeader_pulse__CQ1HT"}},5465:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var n=t(5155),c=t(2115),o=t(9671),l=t(76),s=t(6237),d=t.n(s);let i=e=>{let{selectedTeam:a,onChange:t,className:s=""}=e,[i,r]=(0,c.useState)(o.T),[m,h]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{(async()=>{h(!0);try{let e=await (0,l.jS)();r(e)}catch(e){console.error("Błąd podczas ładowania zespoł\xf3w:",e)}finally{h(!1)}})()},[]),(0,n.jsx)("select",{value:a,onChange:e=>t(e.target.value),className:"".concat(d().teamsSelector," ").concat(s," ").concat(m?d().loading:""),disabled:m,children:Object.values(i).map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))})}},6237:e=>{e.exports={teamsSelector:"TeamsSelector_teamsSelector__kIxmH",loading:"TeamsSelector_loading__WvPpk"}}}]);